<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> SoftlabWeb Dashboard</title>
    <link rel="icon" type="image/x-icon" href="/static/image/p2logo.png">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://kit.fontawesome.com/17b53a818d.js" crossorigin="anonymous"></script>

    <!-- Add these in the <head> section -->



    <style>
        body {
            background-color: #F5F5F5;
            font-size: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .main {
            text-align: left;
            background: transparent;
            background-color: #F5F5F5;
        }

        .main a {
            text-decoration: none;

        }

        #left {
            background-color: #F5F5F5;

            height: auto;
            width: 350px;
            margin-left: -10px;
        }

        #right {
            background-color: #F5F5F5;

            margin-left: -10px;
            width: auto;

        }

        #hov {
            margin-left: 10px;
        }

        #hov:hover {
            color: rgb(245, 10, 214) !important;
        }

        .list {
            color: black;

        }


        #myChart1 {
            width: 500px !important;
            height: 450px !important;
            margin-left: 10px !important;
            color: #000 !important;
            font-weight: bold !important;

        }

        #sizepie {
            background-color: #F5F5F5;
            width: 980px;

            margin-left: 30px;
        }

        #log {
            display: flex;
            margin-top: -15px;
        }

        #log1 {
            display: flex;
            margin-top: 5px;
        }

        .list li {
            font-size: smaller;
        }

        a {
            font-size: smaller;
        }
    </style>
</head>

<body>
    <div id="navbar-placeholder"></div>
    <script>
        fetch('/navbardepartmentcal')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-placeholder').innerHTML = data;
            });
    </script>


    <div class="main">
        <div class="container-fluid">
            <div class="row">
                <div class="col-3 col-sm-3">
                    <div id="left">
                        <section class="one">
                            <a class="btn btn-primary" href="#collapseExample" aria-expanded="false"
                                aria-controls="collapseExample" role="button" data-bs-toggle="collapse"
                                style="width: 350px; margin-bottom:1px; margin-left: 0px; ">
                                Graphical Dashboard
                            </a>

                            <div id="collapseExample">
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a
                                    href="{{ url_for('graph_show')}}" style="color:black; " id="hov">Graphical
                                    Dashboard</a>
                            </div>
                        </section>

                        <section class="two">
                            <a class="btn btn-primary" href="#collapseExample2" aria-expanded="false"
                                aria-controls="collapseExample" role="button" data-bs-toggle="collapse"
                                style="width: 350px; margin-bottom:1px;">
                                Related Links
                            </a>

                            <div id="collapseExample2">
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a
                                    href="/show_device_categories" style="color: black; margin-left: 10px;"
                                    id="hov">Device Categories</a><br>
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a href="/devicemanfac"
                                    style="color: black;" id="hov">Device Manufacturer</a><br>
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a href="/devicemodel"
                                    style="color: black;" id="hov">Device Models</a>
                            </div>
                        </section>
                        <section class="three">
                            <a class="btn btn-primary" href="#collapseExample3" role="button" aria-expanded="false"
                                aria-controls="collapseExample" style="width: 350px; margin-bottom:1px;">
                                Job-Related Task
                            </a>

                            <div id="collapseExample3">
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a
                                    href="/customer_list" style="color: black;" id="hov">Customers List</a><br>
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a
                                    href="/srf_job_status" style="color: black;" id="hov">SRF Job Card Status</a><br>

                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a href="/calibration"
                                    style="color: black;" id="hov"> SRF Job Card Calibration</a><br>
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a
                                    href="/srf_receiving_note" style="color: black;" id="hov">SRF Job Card
                                    Details</a><br>
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a
                                    href="/get_report_page" style="color: black;" id="hov">SRF Job Card Reports</a><br>


                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a href="/srf_history"
                                    style="color: black;" id="hov">SRF Job Card History</a><br>
                            </div>
                        </section>
                        <section class="four">
                            <a class="btn btn-primary" href="#collapseExample4" role="button" role="button"
                                data-bs-toggle="collapse" aria-expanded="false" aria-controls="collapseExample"
                                style="width: 350px; margin-bottom:1px;">
                                Additional Task
                            </a>

                            <div id="collapseExample4">
                                <!-- <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a href=""
                                    style="color: black;" id="hov">View Technical Documents</a><br> -->
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a href="/ulr_manage"
                                    style="color: black;" id="hov">ULR Management</a><br>
                                <!-- <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a
                                    href="/customer_list" style="color: black;" id="hov">Customers List</a><br> -->
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a
                                    href="{{ url_for('email') }}" style="color: black;" id="hov">Compose Email</a><br>
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a
                                    href="/emailbookadress" style="color: black;" id="hov">Email Address Book</a><br>
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a href="/email_page"
                                    style="color: black;" id="hov">Sent Email</a><br>

                            </div>
                        </section>
                        <section class="five">
                            <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseExample5" role="button"
                                aria-expanded="false" aria-controls="collapseExample"
                                style="width: 350px; margin-bottom:1px;">
                                Scope Details
                            </a>

                            <div class="collapse" id="collapseExample5">
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a
                                    href="/master_details" style="color: black;" id="hov">Master Details</a><br>
                                <i class="fa-regular fa-star fa-2xs" style="color: #1c6efd;"></i><a href="/cmc_home"
                                    style="color: black;" id="hov">CMC Scope Details</a>
                            </div>
                        </section>
                        <section class="six">
                            <a class="btn btn-primary " data-bs-toggle="collapse" href="#collapseExample6" role="button"
                                aria-expanded="false" aria-controls="collapseExample"
                                style="width: 350px; margin-bottom:1px;">
                                Login Details
                            </a>

                            <div class="collapse" id="collapseExample6">
                                <div id="log1">
                                    <i class="fa-solid fa-user" style="color: #0b5fef; margin-top: 5px;"></i>
                                    <p class="list" style="color: black;font-size:13px; margin-left: 5px; ">Login User
                                        Name <span style="color: black; margin-left: 3px;">:</span><span
                                            style="color:rgb(218, 15, 245); margin-left: 2px;">{{ UserID }}</span></p>
                                </div>
                                <div id="log">
                                    <i class="fa-regular fa-clock" style="color: #0b5fef; margin-top: 5px;"></i>
                                    <p class="list" style="color: black; margin-left: 5px; font-size:13px; ">Login Time
                                        <span style="color: black; margin-left: 36px;">:</span><span
                                            style="color: rgb(218, 15, 245); margin-left: 2px;">{{
                                            login_time
                                            }}</span>
                                    </p>
                                </div>

                            </div>
                        </section>
                    </div>
                </div>
                <div class="col-6 col-sm-6 mt-0">
                    <div class="container-fluid" id="sizepie">

                        <div class="col-sm-6 col-6  " onclick=" window.location.href= '/graph_page' ;">
                            <h4 style="text-align: center; margin-left: 75px; margin-top: 30px;">{{ department }}<br>
                                SRF JOBS STATISTICAL COUNTS</h4>
                            <canvas id="myChart1" style="height: 300px; width: 400px; font-weight: bolder; "></canvas>


                        </div>



                    </div>
                </div>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

                <script>
                    const content = JSON.parse('{{content | tojson | safe }}');
                    const pair = JSON.parse('{{pair | tojson | safe }}');

                    const barColors = [
                        "rgba(0,0,255,0.6)",  // Blue
                        "rgba(0,0,255,0.6)",  // Blue
                        "rgba(0,0,255,0.6)",  // Blue
                        "rgba(0,0,255,0.6)",  // Blue
                        "rgba(0,0,255,0.6)",  // Blue
                        "rgba(0,0,255,0.6)"   // Blue
                    ];

                    new Chart("myChart1", {
                        type: "bar",
                        data: {
                            labels: content,
                            datasets: [{
                                backgroundColor: barColors,
                                color: '#000000',
                                data: pair
                            }]
                        },
                        options: {
                            title: {
                                display: true,
                                fontSize: 28,
                                fontStyle: "bold",
                                color: '#000000',
                                backgroundColor: '	#FFFFFF'
                            },
                            legend: { display: false },
                            scales: {
                                yAxes: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }],
                            }
                        }
                    });
                </script>



                <div class="col-3 col-sm-3">
                    <div id="right">
                        <section class="rone">
                            <a class="btn btn-primary" href="#collapseExampler1" role="button" data-bs-toggle="collapse"
                                aria-expanded="false" aria-controls="collapseExample"
                                style="width: 335px; margin-bottom:1px;">
                                Job Card Selection.
                            </a>

                            <div class="collapse" id="collapseExampler1">

                                <ol class="list">
                                    <li>Click on Calibration Menu Available on Top of the Dashboard, Which Redirected to
                                        SRF Selection Screen.</li>
                                    <li>Select the "Active SRF Prefix" dropdown to choose the specific Prefix to Show
                                        its SRF List for calibration.</li>
                                    <li> Use the "Customer" dropdown to Show Respective Customer's SRF List.</li>
                                    <li>To View All SRF List irrespective of Lab Clik on "All SRF" radio Button else
                                        Click on "Login Lab SRF" to List out the Selected Lab SRF List. </li>
                                    <li>In the "Select Required SRF" section, browse through the list of available SRFs.
                                        Click on a specific SRF to view more details and proceed with calibration.</li>
                                    <li>To View the SRF details, click the "View SRF Details" button that opens a modal
                                        displaying in-depth information about the selected SRF.</li>
                                </ol>
                            </div>
                        </section>


                        <section class="rone">
                            <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseExampler2" role="button"
                                aria-expanded="false" aria-controls="collapseExample"
                                style="width: 335px; margin-bottom:1px;">
                                Calibration Steps Help Tips
                            </a>

                            <div class="collapse" id="collapseExampler2">

                                <ol class="list">

                                    <li>Click on to the selected SRF and click the continue button to see the
                                        Calibration Dashboard. </li>
                                    <li>The information of SRF displayed, providing details such as the SRF number,
                                        customer name, and additional information. </li>
                                    <li>The Job Status content provides a overview of different job statuses categorized
                                        into boxes.</li>
                                    <li> Each box represents a specific status, such as "Total Jobs," "ET Jobs," and
                                        "Other Jobs."</li>
                                    <li>A dropdown menu is available for the "Not Acknowledged" status, providing the
                                        option to "Set As Acknowledged."</li>
                                    <li>After Acknowledged, Total Jobs Count will Move to not-checked Box.</li>
                                    <li>Three Dropdowns are their in not-checked box are Accepted, hold and cancelled
                                    </li>
                                    <li>If a User accepted a job count, The count will move to Calibration date not
                                        update Box.</li>
                                    <li>The Calibration Date Not Update box will Update the date in Job Count, Then
                                        count will move to Calibration Date updated box.</li>
                                    <li> Not Obs Result Job Count will update the Calibration Result.</li>
                                    <li>User can view the Calibration result and download the calibration report.</li>
                                    <li>User Can assign the job Count in URL not Assigned Box.</li>
                                    <li>The URL not assign job count will assign the count in URL aasign box and the
                                        count will move to QR Code.</li>
                                    <li>The Calibration Report will be in Not Scanned count, Then the Job count will be
                                        updated in Scanned Box. </li>

                                </ol>


                            </div>
                        </section>

                        <section class="rone">
                            <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseExampler4" role="button"
                                aria-expanded="false" aria-controls="collapseExample"
                                style="width: 335px; margin-bottom:1px;">
                                Calibration Report Help Tips
                            </a>

                            <div class="collapse" id="collapseExampler4">

                                <ol class="list">

                                    <li>If Calculaion is done for a particular instrument or SRF Job No then the
                                        Respective reports can be seen in SRF Job Card reports.</li>
                                    <li>Job No can be filtered through respective SRF Nos and Departments. </li>
                                    <li>User can download the PDF for the respective reports Generated.</li>
                                </ol>

                            </div>
                        </section>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>

    <script src="{{ url_for('static', filename='js/departmentnav.js') }}" type="module"></script>

    <input value="{{ department }}" id="depst" style="display: none;">

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var rightCollapseButtons = document.querySelectorAll('#right [data-bs-toggle="collapse"]');

            rightCollapseButtons.forEach(function (button) {
                button.addEventListener('click', function () {
                    var targetSelector = button.getAttribute('href') || button.getAttribute('data-bs-target');
                    var targetCollapse = document.querySelector(targetSelector);

                    rightCollapseButtons.forEach(function (otherButton) {
                        if (otherButton !== button) {
                            var otherTargetSelector = otherButton.getAttribute('href') || otherButton.getAttribute('data-bs-target');
                            var otherTargetCollapse = document.querySelector(otherTargetSelector);
                            if (otherTargetCollapse) {
                                var bsCollapse = bootstrap.Collapse.getInstance(otherTargetCollapse);
                                if (bsCollapse) {
                                    bsCollapse.hide();
                                }
                            }
                        }
                    });

                    if (targetCollapse) {
                        var bsCollapse = bootstrap.Collapse.getInstance(targetCollapse);
                        if (bsCollapse) {
                            bsCollapse.toggle();  // Modified this line to toggle the collapse
                        }
                    }
                });
            });
        });
    </script>


</html>